<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>وظّفني — وظائف الكويت</title>
  <style>
    /* ====== Reset بسيط ====== */
    * {box-sizing:border-box;font-family: "Noto Kufi Arabic", "Segoe UI", Tahoma, Arial;direction:rtl}
    body{margin:0;background:#f7f9fc;color:#0b2b40}
    a{color:inherit;text-decoration:none}
    /* ====== Header ====== */
    .top{background:#0f6fb2;color:#fff;padding:18px 20px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{font-weight:700;font-size:20px}
    .btn-add{background:#ffd166;color:#0b2b40;padding:8px 12px;border-radius:6px;font-weight:600}
    /* ====== Container ====== */
    .container{max-width:1100px;margin:18px auto;padding:0 16px;display:grid;grid-template-columns:1fr 280px;gap:20px}
    /* ====== Search ====== */
    .search-card{background:#fff;padding:18px;border-radius:8px;box-shadow:0 6px 18px rgba(11,43,64,0.06)}
    .search-row{display:flex;gap:8px;align-items:center}
    input.search{flex:1;padding:10px 12px;border:1px solid #e2e8f0;border-radius:6px;font-size:15px}
    button.search-btn{background:#0f6fb2;color:#fff;padding:10px 14px;border-radius:6px;border:none;cursor:pointer}
    /* ====== Jobs list ====== */
    .jobs{margin-top:12px;display:grid;gap:10px}
    .job{background:#fff;padding:12px;border-radius:8px;border-left:4px solid transparent;display:flex;justify-content:space-between;align-items:center;gap:12px;box-shadow:0 4px 12px rgba(11,43,64,0.04)}
    .job .left{flex:1}
    .job h3{margin:0;font-size:16px}
    .meta{font-size:13px;color:#5f6b73;margin-top:6px}
    .apply-btn{background:#00a86b;color:#fff;padding:8px 12px;border-radius:6px;border:none;cursor:pointer}
    .badge{background:#ffd166;color:#0b2b40;padding:6px 8px;border-radius:6px;font-weight:700}
    /* ====== Sidebar ====== */
    .sidebar{display:flex;flex-direction:column;gap:12px}
    .card{background:#fff;padding:12px;border-radius:8px;box-shadow:0 6px 18px rgba(11,43,64,0.04)}
    .areas button{display:block;width:100%;text-align:right;padding:8px;border-radius:6px;border:1px solid #e6eef6;background:transparent;margin-bottom:8px;cursor:pointer}
    /* ====== Modal ====== */
    .modal{position:fixed;inset:0;background:rgba(11,43,64,0.5);display:none;align-items:center;justify-content:center;padding:20px}
    .modal .panel{background:#fff;padding:18px;border-radius:10px;max-width:720px;width:100%;direction:rtl}
    .close{background:#f3f6f9;border:none;padding:6px 10px;border-radius:6px;cursor:pointer}
    /* ====== Footer ====== */
    footer{max-width:1100px;margin:18px auto;padding:0 16px;color:#7a8b93;font-size:14px}
    /* ====== Responsive ====== */
    @media (max-width:880px){.container{grid-template-columns:1fr} .sidebar{order:2}}
  </style>
</head>
<body>

  <header class="top">
    <div class="brand">وظّفني — وظائف الكويت</div>
    <div style="display:flex;gap:8px;align-items:center">
      <a class="btn-add" href="#add">أضف وظيفة</a>
    </div>
  </header>

  <main class="container">
    <section>
      <!-- Search -->
      <div class="search-card">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
          <div style="font-weight:700;font-size:16px">ابحث عن وظيفة داخل الكويت</div>
          <div class="badge">وظائف مُحدّثة</div>
        </div>

        <div style="margin-top:12px" class="search-row">
          <input id="q" class="search" placeholder="مثال: محاسب، مدير مبيعات، مندوب توصيل..." />
          <button class="search-btn" onclick="applySearch()">بحث</button>
        </div>

        <div class="jobs" id="jobsList" style="margin-top:12px">
          <!-- قائمة الوظائف سترسم هنا بواسطة جافاسكربت -->
        </div>

        <div style="margin-top:10px;font-size:13px;color:#6b7780">
          للاتصال السريع: اضغط "قدّم الآن" لفتح واتساب أو إرسال إيميل لصاحب الإعلان.
        </div>
      </div>
    </section>

    <aside class="sidebar">
      <div class="card">
        <div style="font-weight:700;margin-bottom:8px">المناطق</div>
        <div class="areas">
          <button onclick="filterArea('all')">كل المناطق</button>
          <button onclick="filterArea('الكويت')">الكويت</button>
          <button onclick="filterArea('الجهراء')">الجهراء</button>
          <button onclick="filterArea('الفروانية')">الفروانية</button>
          <button onclick="filterArea('حولي')">حولي</button>
          <button onclick="filterArea('السالمية')">السالمية</button>
          <button onclick="filterArea('الأحمدي')">الأحمدي</button>
        </div>
      </div>

      <div class="card">
        <div style="font-weight:700;margin-bottom:8px">نشر وظيفة</div>
        <div style="font-size:14px;color:#55636b">لو انت صاحب شركة أو فرد تقدر تبعت إعلان الوظيفة على الرقم/الإيميل أو تضيفها بنفسك في الملف (سأشرح تحت).</div>
        <div style="margin-top:8px">
          <a href="#add" style="display:inline-block;padding:8px 10px;border-radius:6px;background:#0f6fb2;color:#fff">أرسل إعلان</a>
        </div>
      </div>

      <div class="card">
        <div style="font-weight:700;margin-bottom:8px">إعلانات</div>
        <div style="font-size:13px;color:#6b7780">مكان مخصص لإضافة إعلانات لاحقاً (AdSense / banners).</div>
      </div>
    </aside>
  </main>

  <footer>
    <div style="max-width:1100px;margin:0 auto;padding:12px 16px">© <span id="year"></span> وظّفني — خاص بالكويت · تصميم بسيط وسهل. تواصل: example@yourmail.com</div>
  </footer>

  <!-- Modal للتفاصيل -->
  <div class="modal" id="modal">
    <div class="panel" role="dialog" aria-modal="true">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <h2 id="mTitle" style="margin:0"></h2>
        <button class="close" onclick="closeModal()">إغلاق</button>
      </div>
      <div id="mCompany" style="margin-top:8px;color:#55636b"></div>
      <div id="mArea" style="margin-top:8px;font-weight:700"></div>
      <div id="mSalary" style="margin-top:8px;color:#0f6fb2;font-weight:700"></div>
      <hr style="margin:12px 0">
      <div id="mDesc" style="line-height:1.6;color:#24313a"></div>

      <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
        <button class="apply-btn" id="whatsappBtn">قدّم عبر واتساب</button>
        <a id="emailBtn" style="display:inline-block;padding:8px 12px;border-radius:6px;border:1px solid #e6eef6">قدّم عبر إيميل</a>
      </div>
    </div>
  </div>

  <script>
    // ============================
    // البيانات: عدّل هنا لإضافة/تعديل الوظائف
    // ============================
    // كل عنصر: id, title, company, area, salary, desc, contact (واتساب أو إيميل), date
    const jobs = [
      {
        id:1,
        title:"محاسب عام",
        company:"شركة أغذية مثال",
        area:"الجهراء",
        salary:"300 - 400 د.ك",
        desc:"مسؤول عن قيود اليومية، إعداد الحسابات الختامية، والتعامل مع الموردين. الخبرة 2 سنوات فى مجال الأغذية تفضّل.",
        contact:"+96555512345", // رقم واتساب
        date:"2025-12-09"
      },
      {
        id:2,
        title:"مندوب توصيل",
        company:"خدمة توصيل سريع",
        area:"الفروانية",
        salary:"ما فوق 200 د.ك + عمولات",
        desc:"توصيل محلي داخل محافظة الفروانية، رخصة قيادة سارية، يفضل خبرة سنة.",
        contact:"jobs@example.com", // إيميل بدلاً من واتساب
        date:"2025-12-08"
      },
      {
        id:3,
        title:"مندوب مبيعات خارجى",
        company:"شركة توزيع - الكويت",
        area:"الكويت",
        salary:"300 د.ك",
        desc:"بيع منتجات غذائية للمحال والسوبر ماركت داخل الكويت. مهارات تفاوض ممتازة.",
        contact:"+96599988877",
        date:"2025-12-07"
      }
    ];

    // ============================
    // وظائف عرض + فلتر + بحث
    // ============================
    const jobsList = document.getElementById('jobsList');
    const qInput = document.getElementById('q');
    const modal = document.getElementById('modal');
    const yearSpan = document.getElementById('year');
    yearSpan.textContent = new Date().getFullYear();

    let currentArea = 'all';

    function renderJobs(list=jobs){
      jobsList.innerHTML = '';
      if(list.length === 0){ jobsList.innerHTML = '<div style="padding:12px;color:#6b7780">لا توجد وظائف مطابقة.</div>'; return;}
      list.forEach(j => {
        const div = document.createElement('div');
        div.className = 'job';
        div.innerHTML = `
          <div class="left">
            <h3>${escapeHtml(j.title)}</h3>
            <div class="meta">${escapeHtml(j.company)} · ${escapeHtml(j.area)} · <span style="color:#8aa1b6">${escapeHtml(j.date)}</span></div>
          </div>
          <div style="display:flex;flex-direction:column;gap:6px;align-items:flex-end">
            <div style="font-weight:700;color:#0f6fb2">${escapeHtml(j.salary || '')}</div>
            <div style="display:flex;gap:8px">
              <button class="apply-btn" onclick="openDetails(${j.id})">التفاصيل</button>
            </div>
          </div>
        `;
        jobsList.appendChild(div);
      });
    }

    function escapeHtml(str){ if(!str) return ''; return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    function filterArea(area){
      currentArea = area;
      let filtered = jobs;
      if(area !== 'all') filtered = jobs.filter(j => j.area === area);
      // apply search term if present
      const term = qInput.value.trim().toLowerCase();
      if(term) filtered = filtered.filter(j => (j.title + ' ' + j.company + ' ' + j.desc).toLowerCase().includes(term));
      renderJobs(filtered);
    }

    function applySearch(){
      const term = qInput.value.trim().toLowerCase();
      let filtered = jobs;
      if(currentArea !== 'all') filtered = filtered.filter(j => j.area === currentArea);
      if(term) filtered = filtered.filter(j => (j.title + ' ' + j.company + ' ' + j.desc).toLowerCase().includes(term));
      renderJobs(filtered);
    }

    // ============================
    // تفاصيل المودال + تقديم
    // ============================
    function openDetails(id){
      const j = jobs.find(x => x.id === id);
      if(!j) return;
      document.getElementById('mTitle').textContent = j.title;
      document.getElementById('mCompany').textContent = j.company || '';
      document.getElementById('mArea').textContent = 'المحافظة: ' + j.area;
      document.getElementById('mSalary').textContent = j.salary || '';
      document.getElementById('mDesc').textContent = j.desc || '';

      const whatsappBtn = document.getElementById('whatsappBtn');
      const emailBtn = document.getElementById('emailBtn');

      if(j.contact && j.contact.includes('@')){
        // إيميل
        whatsappBtn.style.display = 'none';
        emailBtn.style.display = 'inline-block';
        emailBtn.href = `mailto:${encodeURIComponent(j.contact)}?subject=${encodeURIComponent('تقديم على: '+j.title)}&body=${encodeURIComponent('السلام عليكم\n\nأود التقدم لوظيفة '+j.title+' الموجودة على موقع وظفني.\n\nشكراً.')}`;
        emailBtn.textContent = 'قدّم عبر الإيميل';
      } else {
        whatsappBtn.style.display = 'inline-block';
        emailBtn.style.display = 'inline-block';
        emailBtn.href = '#';
        emailBtn.textContent = 'إرسال إيميل';
        const phone = j.contact.replace(/\D/g,'');
        const msg = encodeURIComponent(`السلام عليكم\nأود التقدم لوظيفة: ${j.title}\nالمعلن: ${j.company}\nالمحافظة: ${j.area}`);
        whatsappBtn.onclick = () => {
          // فتح واتساب ويب أو الموبايل
          window.open('https://api.whatsapp.com/send?phone=' + phone + '&text=' + msg, '_blank');
        };
        emailBtn.href = `mailto:info@example.com?subject=${encodeURIComponent('سؤال عن: '+j.title)}&body=${encodeURIComponent('السلام عليكم\n\n...')}`;
      }

      modal.style.display = 'flex';
    }

    function closeModal(){ modal.style.display = 'none'; }

    // close modal on outside click
    modal.addEventListener('click', e => { if(e.target === modal) closeModal(); });

    // initial render
    renderJobs();

    // ============================
    // تعليمات سريعة: كيف تضيف وظيفة جديدة
    // ============================
    /*
      1) افتح هذا الملف index.html في محرر نصوص.
      2) في الأعلى داخل قسم "const jobs = [...]" انسخ عنصر جديد بنفس الشكل:
         {
           id:4,
           title:"اسم الوظيفة",
           company:"اسم الشركة",
           area:"السالمية",
           salary:"متوسط الراتب",
           desc:"وصف مختصر للمهام والشروط",
           contact:"+96555xxxxxx", // او "jobs@example.com"
           date:"2025-12-10"
         }
      3) احفظ الملف وارفِعه مرة ثانية على الاستضافة (أو قم بعمل commit ثم push للـ GitHub).
      4) الوظيفة ستظهر فوراً.
    */

    // ============================
    // نصايح نشر سريعة
    // ============================
    // - انشر رابط الموقع في جروبات فيس وتلجرام خاصة بالكويت.
    // - اعمل صفحة انستجرام بسيطة وانشر وظائف يومياً.
    // - لما تزود الزيارات ركّب AdSense (أشرح لك بعدين).
  </script>

</body>
</html>
